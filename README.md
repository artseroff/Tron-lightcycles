# Игра «Tron lightcycles».

Это игра по мотивам фильма «Трон» 1982 года.
В ней пользователь соревнуется с вражескими мотоциклами, пытаясь заставить
их разбиться об препятствия, стены арены или след от своего или других мотоциклов.
Вражеские мотоциклы – это те мотоциклы, которыми управляет компьютер.
Они имеют по одной жизни в рамках уровня. Все мотоциклы оставляют след.
На передней части всех мотоциклов горит белый свет. Пользователь проигрывает,
если его мотоцикл врезается в любой след, в том числе и свой, в чужой мотоцикл, в препятствие или стену.
Пользователь всегда управляет __голубым__ мотоциклом.
Цель игры - подрезать всех врагов и пройти все 5 уровней.

Проект реализован на C#. Реализовано 2 варианта интерфейса: консольный (псевдографика) и графический (WPF).
Архитектура приложения выполнена по шаблону MVC, классы модели и интерфейсы контроллеров и представлений общие для обоих
вариантов приложения.
Использованы шаблоны проектирования Singleton, Decorator. Проведено Unit-тестирование.

## Описание алгоритма изменения направления движения вражеского мотоцикла

Направления движения вражеского мотоцикла могут быть следующими: сохранение направления, поворот на 90 градусов влево
или вправо относительно текущего направления движения мотоцикла. Далее под ботом будет подразумеваться вражеский
мотоцикл.

Бот старается выбирать тот путь, в котором он, не разбившись, сможет проехать наибольшее расстояние среди трех возможных
направлений. Максимально длинный свободный путь ищется следующим образом: в три стороны (влево, прямо, вправо
относительно текущего направления движения мотоцикла) по матрице арены пускаются «лучи», ищущие первую занятую
препятствием, мотоциклом или следом клетку, и выбирается наибольшее расстояние до неё.

__Алгоритм__: если счетчик клеток, оставшихся до следующего поиска максимально длинного свободного пути, равен 0, то
производится поиск направления максимально длинного свободного пути. Затем ищется случайное число от 0 до половины
величины найденного пути (округление в большую сторону) и сохраняется в соответствующем поле в боте. При каждой
пройденной клетке значение счетчика клеток, оставшихся до следующего поиска максимально длинного свободного пути,
декрементируется.

<details> 
    <summary><b>Визуализация алгоритма (подробнее)</b></summary> 
    <p>
    На рисунке 1 приведено начальное состояние уровня, на котором будет 
        объяснен поиск максимально длинного свободного пути. Сетка отображена для лучшего понимания. 
        На рисунке показана ситуация не в самом начале игры, а когда уже мотоциклы проехали по одной клетке.
        В самом начале игры для желтого бота при движении вверх расстояние составило бы 9 клеток, при движении вправо 10 клеток, при движении вниз 1 клетку. Поэтому было выбрано движение вправо. Аналогично для других ботов.
    </p>
     <p align="center" width="100%">
        <img width="60%" src="https://github.com/user-attachments/assets/b03bdf83-d35f-4047-a785-453515337e5b">
    </p>
    <p align="center">Рисунок 1 – поиск максимально длинного свободного пути</p>
    <p>
        На рисунке 2 показано продолжение игрового процесса, представленного на рисунке 1. Голубой мотоцикл – пользовательский. Допустим, что число, равное случайному числу от 0 до половины величины найденного максимального свободного пути (по рисунку 10, эта величина составляет 7), равно 2. Желтый мотоцикл двигался вправо две клетки, затем в клетке, отмеченной красным происходил поиск максимально длинного свободного пути, после чего мотоцикл повернул на 90 градусов влево и стал двигаться вверх. 
    </p> 
    <p align="center" width="100%">
        <img width="60%" src="https://github.com/user-attachments/assets/55b6b375-2afe-4fbb-8ca2-cfe4cb682bc7">
    </p>
    <p align="center">Рисунок 2 – визуализация алгоритма изменения направления движения бота</p>
</details>

## Скриншоты интерфейса 
<div align="center">
  <img width="60%" src="https://github.com/user-attachments/assets/6a17de7a-61c6-4882-966c-3d8e4a954fbd">
  <p>Макеты всех уровней</p>
</div>


<div align="center">
  <p><b>WPF</b></p>
  <img width="50%" src="https://github.com/user-attachments/assets/ad034007-4445-49c2-a48a-6899d46d656c">
  <p>Главное меню (WPF)</p>

  <img width="50%" src="https://github.com/user-attachments/assets/7286fbdb-9421-4a0f-bf7f-90bdcd957762">
  <p>Первый уровень игрового окна (WPF)</p>

  <img width="50%" src="https://github.com/user-attachments/assets/2d06d8f1-1273-41c7-ae47-aa25af394ead">
  <p>Завершение уровня (WPF)</p>

  <img width="50%" src="https://github.com/user-attachments/assets/fe10b8d9-a788-4e69-88ef-b4be5769523a">
  <p>Четвертый уровень (WPF)</p>

  <img width="50%" src="https://github.com/user-attachments/assets/da2da55d-70e7-495d-a56d-575d4478eadf">
  <p>Победа (WPF)</p>
  
</div>


<div align="center">
  <p><b>Псевдографика</b></p>
  <img width="50%" src="https://github.com/user-attachments/assets/9384982c-abf0-4ff8-81e4-1cee35bd6e8e">
  <p>Главное меню (Псевдографика)</p>
    
  <img width="50%" src="https://github.com/user-attachments/assets/15401614-5ad5-4b20-96f4-1a40602d61bf">
  <p>Второй уровень (Псевдографика)</p>
  
  <img width="50%" src="https://github.com/user-attachments/assets/80a6421f-89ae-4172-bdbf-0766e5723d57">
  <p>Третий уровень (Псевдографика)</p>
  
  <img width="50%" src="https://github.com/user-attachments/assets/d582f475-c59b-4af3-a76c-dc7838ca0e1a">
  <p>Пятый уровень (Псевдографика)</p>

</div>
