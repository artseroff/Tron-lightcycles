# Игра «Tron lightcycles».

Это игра по мотивам фильма «Трон» 1982 года.
В ней пользователь соревнуется с вражескими мотоциклами, пытаясь заставить
их разбиться об препятствия, стены арены или след от своего или других мотоциклов.
Вражеские мотоциклы – это те мотоциклы, которыми управляет компьютер.
Они имеют по одной жизни в рамках уровня. Все мотоциклы оставляют след.
На передней части всех мотоциклов горит белый свет. Пользователь проигрывает,
если его мотоцикл врезается в любой след, в том числе и свой, в чужой мотоцикл, в препятствие или стену.
Пользователь всегда управляет __голубым__ мотоциклом.
Цель игры - подрезать всех врагов и пройти все 5 уровней.

Проект реализован на C#. Реализовано 2 варианта интерфейса: консольный (псевдографика) и графический (WPF).
Архитектура приложения выполнена по шаблону MVC, классы модели и интерфейсы контроллеров и представлений общие для обоих
вариантов приложения.
Использованы шаблоны проектирования Singleton, Decorator. Проведено Unit-тестирование.

## Описание алгоритма изменения направления движения вражеского мотоцикла

Направления движения вражеского мотоцикла могут быть следующими: сохранение направления, поворот на 90 градусов влево
или вправо относительно текущего направления движения мотоцикла. Далее под ботом будет подразумеваться вражеский
мотоцикл.

Бот старается выбирать тот путь, в котором он, не разбившись, сможет проехать наибольшее расстояние среди трех возможных
направлений. Максимально длинный свободный путь ищется следующим образом: в три стороны (влево, прямо, вправо
относительно текущего направления движения мотоцикла) по матрице арены пускаются «лучи», ищущие первую занятую
препятствием, мотоциклом или следом клетку, и выбирается наибольшее расстояние до неё.

__Алгоритм__: если счетчик клеток, оставшихся до следующего поиска максимально длинного свободного пути, равен 0, то
производится поиск направления максимально длинного свободного пути. Затем ищется случайное число от 0 до половины
величины найденного пути (округление в большую сторону) и сохраняется в соответствующем поле в боте. При каждой
пройденной клетке значение счетчика клеток, оставшихся до следующего поиска максимально длинного свободного пути,
декрементируется.

<details> 
    <summary><b>Визуализация алгоритма (подробнее)</b></summary> 
    <p>
    На рисунке 1 приведено начальное состояние уровня, на котором будет 
        объяснен поиск максимально длинного свободного пути. Сетка отображена для лучшего понимания. 
        На рисунке показана ситуация не в самом начале игры, а когда уже мотоциклы проехали по одной клетке.
        В самом начале игры для желтого бота при движении вверх расстояние составило бы 9 клеток, при движении вправо 10 клеток, при движении вниз 1 клетку. Поэтому было выбрано движение вправо. Аналогично для других ботов.
    </p>
     <p align="center" width="100%">
        <img width="60%" src="https://github.com/user-attachments/assets/3a3dc9e4-c84b-4cd2-a8ad-bf66dfba89e1">
    </p>
    <p align="center">Рисунок 1 – поиск максимально длинного свободного пути</p>
    <p>
        На рисунке 2 показано продолжение игрового процесса, представленного на рисунке 1. Голубой мотоцикл – пользовательский. Допустим, что число, равное случайному числу от 0 до половины величины найденного максимального свободного пути (по рисунку 10, эта величина составляет 7), равно 2. Желтый мотоцикл двигался вправо две клетки, затем в клетке, отмеченной красным происходил поиск максимально длинного свободного пути, после чего мотоцикл повернул на 90 градусов влево и стал двигаться вверх. 
    </p> 
    <p align="center" width="100%">
        <img width="60%" src="https://github.com/user-attachments/assets/ba8acf8e-cc77-4a2f-9930-39cfde73704a">
    </p>
    <p align="center">Рисунок 2 – визуализация алгоритма изменения направления движения бота</p>
</details>

## Скриншоты интерфейса 
<div align="center">
  <img src="https://github.com/user-attachments/assets/fc59b93b-e789-4b69-b66e-f1c7acad30fe">
  <p>Макеты всех уровней</p>
</div>

__WPF__
<div align="center">
  <img src="https://github.com/user-attachments/assets/1384b00f-080a-4994-9e14-84d01cef417e">
  <p>Главное меню (WPF)</p>

  <img src="https://github.com/user-attachments/assets/3fee5c5e-d084-42b9-a7f7-22dea9cb4bbd">
  <p>Первый уровень игрового окна (WPF)</p>

  <img  src="https://github.com/user-attachments/assets/343b8e79-7229-4b61-8269-a4f11e952e5a">
  <p>Завершение уровня (WPF)</p>

  <img  src="https://github.com/user-attachments/assets/8e3dd321-dda5-47e0-9cf1-143b9c458f66">
  <p>Четвертый уровень (WPF)</p>

  <img  src="https://github.com/user-attachments/assets/0357a56f-25fe-4654-b17f-9a6044080e63">
  <p>Победа (WPF)</p>
  
</div>

__Псевдографика__
<div align="center">
  <img src="https://github.com/user-attachments/assets/1caeb1cf-ee3f-4598-9c4b-00493e1cd48a">
  <p>Главное меню (Псевдографика)</p>

  <img src="https://github.com/user-attachments/assets/22adce87-44f9-4a22-a4ac-9857b3f7fea3">
  <p>Второй уровень (Псевдографика)</p>

  <img src="https://github.com/user-attachments/assets/57e4aa5e-bd23-47ff-8076-34724be938f3">
  <p>Третий уровень (Псевдографика)</p>
  
  <img src="https://github.com/user-attachments/assets/ad0c4a3c-42f6-4ac1-b116-4f103c7cf846">
  <p>Пятый уровень (Псевдографика)</p>

</div>
